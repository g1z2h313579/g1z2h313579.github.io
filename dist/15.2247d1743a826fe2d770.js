(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"3mHI":function(e,t,n){(t=n("JPst")(!1)).push([e.i,".mapContainer{width:1000px;height:600px}\n",""]),e.exports=t},R5TG:function(e,t,n){var r=n("LboF"),o=n("ngng");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},"X/7q":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a={west:["530000","510000","520000"],south:["460000","450000","420000","430000"],east:["350000","340000","320000","330000"],dawan:["441900","441300","440300","810000"],north:["110000","370000,","210000","130000","140000"],all:["532800","510100","520100","530100","442000","440700","440100","440600","350200","350100","330300","330700","441900","441300","440300","810000","110000","370100,","370200","210100","210200"],eventListener:["130000","140000","210000","220000","230000","320000","330000","340000","350000","360000","370000","410000","420000","430000","440000","460000","510000","520000","530000","610000","620000","630000","710000","100000"]},i={"西区":[{name:"西双版纳",adcode:"532800"},{name:"成都市",adcode:"510100"},{name:"贵阳市",adcode:"520100"},{name:"昆明市",adcode:"530100"}],"南区":[{name:"中山市",adcode:"442000"},{name:"江门市",adcode:"440700"},{name:"广州市",adcode:"440100"},{name:"佛山市",adcode:"440600"}],"东区":[{name:"厦门市",adcode:"350200"},{name:"福州市",adcode:"350100"},{name:"温州市",adcode:"330300"},{name:"金华市",adcode:"330700"}],"大湾区":[{name:"东莞市",adcode:"441900"},{name:"惠州市",adcode:"441300"},{name:"深圳市",adcode:"440300"},{name:"香港特别行政区",adcode:"810000"}],"北区":[{name:"北京市",adcode:"110000"},{name:"济南市",adcode:"370100"},{name:"青岛市",adcode:"370200"},{name:"沈阳市",adcode:"210100"},{name:"大连市",adcode:"210200"}]};function c(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ref=t.ref,this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.map=new AMap.Map(this.ref,{zoom:4,center:[106,33],viewMode:"3D",lang:"zh_cn",defaultCursor:"pointer",showIndoorMap:!1,rotation:0,isHotspot:!1,touchZoomCenter:1,pitch:25,resizeEnable:!0,bubble:!0}),this.mapUI()}},{key:"addMarker",value:function(e,t){this.map.clearMap();var n=new AMap.Marker({position:new AMap.LngLat(e,t),title:"北京0000000000"});this.map.add(n)}},{key:"mapUI",value:function(){var e=this;AMapUI.load(["ui/geo/DistrictExplorer","lib/$"],function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new n({eventSupport:!0,map:e.map}),t.next=3,r;case 3:e.districtExplorer=t.sent,e.districtExplorer.loadMultiAreaNodes(["100000","440000"],(function(t,n){t&&console.log(t,"err000000"),e.renderAreaNode(n)}));case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){c(a,r,o,i,u,"next",e)}function u(e){c(a,r,o,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}())}},{key:"renderAreaNode",value:function(e){console.log("areaNode000",e),this.districtExplorer.renderSubFeatures(e[0],(function(e,t){for(var n in a)for(var r=0;r<a[n].length;r++)if(e.properties.adcode==a[n][r]&&44e4!==e.properties.adcode)return{cursor:"default",bubble:!0,strokeColor:"green",strokeOpacity:1,strokeWeight:1,fillColor:"red",fillOpacity:.35}})),this.districtExplorer.renderSubFeatures(e[1],(function(e,t){for(var n=0;n<a.dawan.length;n++)if(e.properties.adcode==a.dawan[n])return{cursor:"default",bubble:!0,strokeColor:"green",strokeOpacity:1,strokeWeight:1,fillColor:"red",fillOpacity:.35}}))}},{key:"openInfoWin",value:function(e,t){this.infoWin||(this.infoWin=new AMap.InfoWindow({isCustom:!0,offset:new AMap.Pixel(100,100)}));var n=e.pixel.x,r=e.pixel.y,o=this.map.containerToLngLat(new AMap.Pixel(n,r)),a=document.createElement("div");a.className="info";var i=document.createElement("div");a.appendChild(i);var c="<span>".concat(t.name,"</span>");i.innerHTML=c,this.infoWin.setContent(i),this.infoWin.open(this.map,o)}},{key:"closeInfoWin",value:function(){this.infoWin&&this.infoWin.close()}}])&&u(t.prototype,n),r&&u(t,r),e}(),f=n("TyAF"),p=n("+2el"),d=n("2vnA");n("dEeG");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=Object(f.a)(s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,r,a=v(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).conRef=o.a.createRef(),t.state={flag:!1},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e={ref:this.conRef.current};this.map=new l(e)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"addMarker",value:function(){this.setState({flag:!this.state.flag}),this.state.flag?this.map.addMarker(116.39,39.9):this.map.addMarker(120.52,30.4)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{ref:this.conRef,className:"mapContainer"}),o.a.createElement("button",{onClick:this.addMarker.bind(this)},"addmarker"))}}])&&h(t.prototype,n),r&&h(t,r),i}(o.a.Component))||s,k=(n("R5TG"),Object(f.a)((function(){return Object(r.useEffect)((function(){AMap.plugin(["AMap.DistrictSearch"],(function(){var e=new AMap.DistrictSearch({level:"city",extensions:"all",subdistrict:0}),t=function(t){p.a.cityInfo[t]=[],i[t].map((function(n){e.search(n.name,(function(e,n){console.log("result",n),"complete"==e&&1==n.districtList.length&&p.a.cityInfo[t].push({name:n.districtList[0].name,boundary:n.districtList[0].boundaries})}))}))};for(var n in i)t(n)}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"mapwrap"},o.a.createElement(w,{cityInfo:Object(d.p)(p.a.cityInfo)})))})));t.default=k},dEeG:function(e,t,n){var r=n("LboF"),o=n("3mHI");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},ngng:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".mapwrap{display:flex;justify-content:center;align-items:center;margin-top:20px;padding:10px;border:1px solid blue}\n",""]),e.exports=t}}]);